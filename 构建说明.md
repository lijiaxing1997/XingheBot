# 构建说明

## 一键构建（macOS 上交叉编译 Linux/Windows）

```bash
bash scripts/build_dist.sh
```

默认产物输出到 `dist/`：

- `dist/agent-linux-amd64`
- `dist/agent-linux-arm64`
- `dist/agent-windows-amd64.exe`
- `dist/agent-windows-arm64.exe`

如果你想改输出目录：

```bash
DIST_DIR=/tmp/agent-dist bash scripts/build_dist.sh
```

## 手动构建（等价命令）

```bash
mkdir -p dist
CGO_ENABLED=0 GOOS=linux   GOARCH=amd64 go build -o dist/agent-linux-amd64 ./cmd/agent
CGO_ENABLED=0 GOOS=linux   GOARCH=arm64 go build -o dist/agent-linux-arm64 ./cmd/agent
CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build -o dist/agent-windows-amd64.exe ./cmd/agent
CGO_ENABLED=0 GOOS=windows GOARCH=arm64 go build -o dist/agent-windows-arm64.exe ./cmd/agent
```
