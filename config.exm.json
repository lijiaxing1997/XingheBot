{
  "model_config": {
    "model_type": "openai",
    "api_key": "sk-apikey-REPLACE_ME",
    "base_url": "https://api.deepseek.com-REPLACE_ME",
    "model": "deepseek-chat-REPLACE_ME",
    "max_tokens": 0
  },
  "web_search": {
    "tavily_api_key": "tvly-REPLACE_ME"
  },
  "assistant": {
    "reply_style": {
      "enabled": true,
      "md_path": "reply_style.md"
    },
    "auto_compaction": {
      "enabled": true,
      "max_attempts": 3,
      "keep_last_user_turns": 6,
      "summary_max_tokens": 512,
      "summary_max_chars": 6000,
      "summary_input_max_chars": 16000,
      "hard_max_tool_result_chars": 400000,
      "overflow_max_tool_result_chars": 50000
    }
  },
  "memory": {
    "enabled": true,
    "workspace_dir": "~/.xinghebot/workspace",
    "project_key": "",
    "root_dir": "",
    "timezone": "Local",
    "backend": "scan",
    "auto_load_memory_into_prompt": true,
    "auto_update_memory_md": true,
    "memory_md_max_chars": 1000,
    "auto_flush_on_compaction": true,
    "auto_capture_on_new_session": true,
    "auto_flush_on_session_capture": true,
    "auto_daily_summary": true,
    "index_history_jsonl": false,
    "max_results": 10,
    "redaction": {
      "enabled": true,
      "patterns": ["sk-", "tvly-", "AKIA", "-----BEGIN", "authorization_code"]
    }
  },
  "autonomy": {
    "enabled": false,
    "heartbeat": {
      "enabled": false,
      "every": "30m",
      "coalesce_ms": 250,
      "retry_ms": 1000,
      "path": "HEARTBEAT.md",
      "ok_token": "HEARTBEAT_OK",
      "dedupe_hours": 24
    },
    "cron": {
      "enabled": false,
      "store_path": "",
      "default_timezone": "Local",
      "max_timer_delay": "60s",
      "default_timeout": "10m",
      "stuck_run": "2h",
      "min_refire_gap": "2s",
      "email_to": "REPLACE_ME@example.com",
      "email_subject_prefix": "[Cron]"
    }
  },
  "start_params": {
    "master": {
      "listen": "0.0.0.0:7788",
      "ws_path": "/ws",
      "ui": "tui",
      "redis_url": "",
      "heartbeat": "5s"
    },
    "slave": {
      "name": "slave-1",
      "master": "ws://127.0.0.1:7788/ws",
      "heartbeat": "5s",
      "max_inflight_runs": 1,
      "insecure_skip_verify": false
    }
  },
  "cluster": {
    "secret": "",
    "tls": {
      "enabled": false,
      "cert_file": "",
      "key_file": "",
      "insecure_skip_verify": false
    },
    "files": {
      "root_dir": ".cluster/files",
      "max_file_bytes": 2147483648,
      "max_total_bytes": 21474836480,
      "retention_days": 7,
      "chunk_size_bytes": 262144,
      "max_inflight_chunks": 8
    }
  },
  "gateway": {
    "enabled": false,
    "email": {
      "provider": "126",
      "email_address": "xingheai@126.com-REPLACE_ME",
      "authorization_code": "REPLACE_ME",
      "imap": {
        "server": "imap.126.com",
        "port": 993,
        "use_ssl": true
      },
      "smtp": {
        "server": "smtp.126.com",
        "port": 465,
        "use_ssl": true
      },
      "poll_interval_seconds": 5,
      "allowed_senders": "jiaxingl@126.com-REPLACE_ME"
    }
  },
  "multi_agent": {
    "worker": {
      "max_turns": 40
    },
    "cleanup": {
      "enabled": true,
      "mode": "archive",
      "interval_minutes": 10,
      "archive_after_minutes": 60,
      "keep_last": 20,
      "include_failed": false,
      "dry_run": false
    }
  },
  "notes": "start_params: default CLI args for `xinghebot master` / `xinghebot slave` when you don't pass flags.\n\nmax_tokens=0: OpenAI-compatible providers omit the parameter (provider default applies). Anthropics requires max_tokens; if you set 0, xinghebot uses a default (currently 1024).\n\nmulti_agent.worker.max_turns: child-agent worker max turns (acts as an upper bound). If agent_spawn sets a higher max_turns, it will be capped. Set a positive value (default: 40).\n\nauto_compaction: configure assistant.auto_compaction. Set enabled=false to disable. max_attempts can be 0 to disable retry/summary (hard tool-result truncation still applies). Other numeric fields should be positive."
}
