# Skill Security Auditor - 使用说明

## 快速开始

### 1. 激活技能
当用户请求分析技能安全性时，Skill Security Auditor会自动激活。您可以使用以下命令：

```
请使用Skill Security Auditor分析[技能名称]的安全性
```

或

```
对[技能路径]进行安全审计
```

### 2. 基本审计流程
工具会自动执行以下步骤：
1. 读取技能目录下的所有文件
2. 应用安全规则提示词模板进行分析
3. 识别潜在的安全风险
4. 生成审计报告

## 详细使用指南

### 1. 完整安全审计
要进行完整的技能安全审计，请使用以下格式：

```
请对技能[技能名称]进行完整的安全审计，包括：
1. API密钥和敏感信息检查
2. 命令执行风险分析
3. 文件系统权限审计
4. 网络访问控制检查
5. 依赖包安全分析
6. 生成详细审计报告
```

### 2. 专项安全检查
如果您只关心特定类型的安全问题，可以指定：

```
请检查技能[技能名称]中的API密钥泄露风险
```

或

```
分析技能[技能名称]的命令执行安全性
```

### 3. 快速安全扫描
对于快速检查，使用：

```
对技能[技能名称]进行快速安全扫描，只检查高风险问题
```

## 审计参数配置

### 1. 审计深度控制
您可以通过以下方式控制审计深度：

- **深度审计**：分析所有文件，包括配置文件和依赖
  ```
  对[技能名称]进行深度安全审计，包括所有文件分析
  ```

- **标准审计**：分析主要代码文件和配置文件
  ```
  对[技能名称]进行标准安全审计
  ```

- **快速扫描**：只扫描明显的高风险问题
  ```
  快速扫描[技能名称]的安全性
  ```

### 2. 输出格式选择
选择不同的报告格式：

- **详细报告**：包含所有发现、代码片段和详细建议
  ```
  生成[技能名称]的详细安全审计报告
  ```

- **简洁报告**：只包含关键发现和建议
  ```
  生成[技能名称]的简洁安全审计简报
  ```

- **问题列表**：只列出发现的安全问题
  ```
  列出[技能名称]中发现的所有安全问题
  ```

## 示例命令

### 示例1：完整审计
```
请使用Skill Security Auditor对"mcp-builder"技能进行完整的安全审计。
要求：
1. 检查所有Python文件中的安全风险
2. 分析配置文件中的敏感信息
3. 检查依赖包的安全性
4. 生成详细审计报告
5. 提供具体的修复建议
```

### 示例2：专项检查
```
请分析"skill-installer"技能中的命令执行风险。
重点关注：
1. subprocess模块的使用
2. 用户输入验证
3. shell命令执行
4. 文件系统操作
```

### 示例3：快速评估
```
快速评估"frontend-design"技能的安全性。
只检查：
1. 硬编码的API密钥
2. 明显的安全漏洞
3. 高风险操作
```

## 审计范围控制

### 1. 文件类型过滤
指定要分析的文件类型：

```
分析[技能名称]中的以下文件类型：
- .py文件
- .json配置文件
- requirements.txt
- package.json
```

### 2. 目录范围限制
限制审计的目录范围：

```
只审计[技能名称]的scripts目录下的文件
```

或

```
排除[技能名称]的tests目录和文档文件
```

### 3. 代码行数限制
对于大型技能，可以限制分析的代码量：

```
分析[技能名称]的前1000行代码中的安全问题
```

## 报告定制

### 1. 风险等级过滤
只显示特定风险等级的问题：

```
只显示[技能名称]中的高风险安全问题
```

或

```
显示[技能名称]中所有中高风险问题
```

### 2. 修复建议详细程度
控制修复建议的详细程度：

```
为[技能名称]的安全问题提供详细的修复步骤和代码示例
```

或

```
为[技能名称]的安全问题提供简要的修复建议
```

### 3. 评分标准调整
自定义安全评分标准：

```
使用严格的安全标准评估[技能名称]
```

或

```
使用宽松的安全标准评估[技能名称]，只关注严重问题
```

## 高级功能

### 1. 对比审计
比较两个技能的安全性：

```
对比分析"skill-creator"和"mcp-builder"两个技能的安全性差异
```

### 2. 趋势分析
分析技能安全性的改进：

```
分析[技能名称]当前版本与之前版本的安全性改进
```

### 3. 合规性检查
检查是否符合特定安全标准：

```
检查[技能名称]是否符合OWASP Top 10安全标准
```

## 最佳实践

### 1. 审计时机
建议在以下时机进行安全审计：
- 技能开发完成后
- 技能更新或升级时
- 引入新的依赖包时
- 发现安全漏洞时
- 定期（如每季度）审计

### 2. 审计准备
在进行审计前：
1. 确保技能目录结构完整
2. 准备好所有依赖文件
3. 了解技能的主要功能
4. 确定审计的重点领域

### 3. 结果处理
审计完成后：
1. 优先处理高风险问题
2. 记录所有发现的问题
3. 制定修复计划
4. 验证修复效果
5. 更新审计记录

## 故障排除

### 1. 技能找不到
如果工具找不到技能：
```
请检查技能[技能名称]是否存在，或提供完整的技能路径
```

### 2. 文件读取失败
如果文件读取失败：
```
请手动提供[文件路径]的内容进行分析
```

### 3. 分析结果不准确
如果分析结果不准确：
```
请提供更多上下文信息，或指定具体的分析规则
```

## 注意事项

1. **人工验证**：工具分析结果需要人工验证
2. **误报处理**：可能存在误报，需要仔细审查
3. **漏报风险**：工具可能无法发现所有安全问题
4. **持续更新**：安全威胁不断变化，需要定期更新审计规则
5. **环境差异**：不同环境下的安全要求可能不同

## 支持与反馈

如果您在使用过程中遇到问题或有改进建议：
1. 检查使用说明文档
2. 参考示例分析报告
3. 提供具体的错误信息
4. 描述期望的行为和实际行为

通过遵循本使用说明，您可以充分利用Skill Security Auditor进行有效的技能安全审计。