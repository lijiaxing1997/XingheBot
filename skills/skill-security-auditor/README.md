# Skill Security Auditor

基于提示词分析的DeepSeek技能安全审计工具。

## 简介

Skill Security Auditor 是一个专门为DeepSeek技能设计的安全审计工具。与传统的代码扫描工具不同，本工具使用智能提示词模板来分析技能文件内容，识别潜在的安全风险。

## 特性

- 🛡️ **基于提示词分析** - 使用预定义的提示词模板进行安全分析
- 📁 **文件内容读取** - 自动读取技能目录下的所有文件
- 🔍 **多维度安全检查** - API密钥、命令执行、文件系统、网络访问等
- 📊 **风险评估** - 按风险等级（高/中/低）分类问题
- 📝 **详细报告** - 生成结构化的安全审计报告
- 🛠️ **修复建议** - 提供具体的修复步骤和代码示例

## 快速开始

### 基本使用
```bash
请使用Skill Security Auditor分析[技能名称]的安全性
```

### 完整审计
```bash
请对[技能名称]进行完整的安全审计，包括所有文件分析和详细报告
```

### 专项检查
```bash
检查[技能名称]中的API密钥泄露风险
```

## 目录结构

```
skill-security-auditor/
├── SKILL.md              # 技能主文档
├── prompt-templates.md   # 提示词模板库
├── USAGE.md             # 使用说明
├── README.md            # 本文件
└── examples/            # 示例文件
    └── example-audit-report.md  # 示例审计报告
```

## 审计流程

1. **文件扫描** - 读取技能目录结构
2. **内容分析** - 应用提示词模板分析文件内容
3. **风险识别** - 检测安全问题和漏洞
4. **评估分级** - 按风险等级分类问题
5. **报告生成** - 输出结构化审计报告

## 支持的安全检查

### 1. API密钥和敏感信息
- 硬编码的API密钥、令牌、密码
- 配置文件中的敏感信息
- 环境变量管理

### 2. 命令执行风险
- 危险的系统命令调用
- Shell注入漏洞
- 用户输入验证

### 3. 文件系统安全
- 路径遍历漏洞
- 文件权限设置
- 临时文件处理

### 4. 网络安全
- 外部API调用安全
- URL验证和过滤
- 请求头安全性

### 5. 依赖安全
- 过时的依赖版本
- 已知漏洞的包
- 依赖版本管理

## 输出示例

### 审计报告包含：
- 技能基本信息
- 发现的安全问题（按风险等级）
- 详细的问题描述和位置
- 具体的修复建议
- 总体安全评分
- 改进计划

### 风险等级：
- 🔴 **高风险** - 需要立即修复
- 🟡 **中风险** - 建议尽快修复
- 🟢 **低风险** - 可计划修复
- 🔵 **信息性** - 安全最佳实践

## 使用场景

### 1. 技能开发阶段
- 开发完成后进行安全审计
- 确保代码符合安全规范

### 2. 技能更新维护
- 更新依赖包后检查安全性
- 代码重构后的安全验证

### 3. 技能部署前
- 生产环境部署前的安全检查
- 合规性验证

### 4. 定期审计
- 季度/年度安全审计
- 安全态势评估

## 优势

### 与传统工具对比
| 特性 | Skill Security Auditor | 传统扫描工具 |
|------|-----------------------|-------------|
| 分析方式 | 提示词模板分析 | 规则引擎匹配 |
| 灵活性 | 高，可适应各种代码模式 | 中，依赖预定义规则 |
| 误报率 | 低，结合上下文分析 | 高，可能产生误报 |
| 定制性 | 高，可调整提示词模板 | 低，规则修改复杂 |
| 学习成本 | 低，自然语言描述 | 高，需要了解规则语法 |

### 核心优势
1. **智能分析** - 理解代码上下文和意图
2. **全面覆盖** - 检查多种类型的安全问题
3. **实用建议** - 提供具体的修复方案
4. **易于使用** - 自然语言命令即可启动
5. **持续改进** - 提示词模板可随时更新

## 最佳实践

### 审计时机
- ✅ 技能开发完成后
- ✅ 引入新依赖时
- ✅ 代码重大修改后
- ✅ 定期（每季度）审计
- ✅ 安全事件发生后

### 结果处理
1. **优先级排序** - 先处理高风险问题
2. **验证修复** - 修复后重新审计
3. **文档更新** - 更新安全相关文档
4. **团队通知** - 分享审计结果和教训

### 持续改进
1. **模板更新** - 定期更新提示词模板
2. **规则优化** - 根据审计经验优化规则
3. **流程集成** - 集成到开发流程中
4. **知识分享** - 团队安全知识培训

## 限制和注意事项

### 技术限制
1. **静态分析** - 仅分析代码，不测试运行时行为
2. **环境依赖** - 某些问题可能依赖特定环境
3. **新威胁** - 可能无法检测最新的攻击手法

### 使用建议
1. **结合人工审查** - 工具结果需要人工验证
2. **定期更新** - 保持提示词模板最新
3. **多轮审计** - 关键技能进行多轮审计
4. **记录审计** - 保存审计记录供参考

## 贡献和反馈

欢迎贡献和改进：

1. **提示词模板** - 添加新的安全分析模板
2. **示例报告** - 提供更多的审计示例
3. **使用经验** - 分享最佳实践和经验教训
4. **问题反馈** - 报告工具的问题和改进建议

## 许可证

本工具遵循开源许可证。具体信息请查看LICENSE文件。

## 更新日志

### v1.0.0 (2024-01)
- 初始版本发布
- 基于提示词模板的安全分析
- 完整的审计流程和报告生成
- 示例审计报告和文档

---

**开始使用**：请参考`USAGE.md`获取详细使用说明，或查看`examples/`目录中的示例报告。